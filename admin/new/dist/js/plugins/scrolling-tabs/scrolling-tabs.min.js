/**
 * jquery-bootstrap-scrolling-tabs
 * @version v0.0.3
 * @link https://github.com/mikejacobson/jquery-bootstrap-scrolling-tabs
 * @author Mike Jacobson <michaeljjacobson1@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(e,g){var a={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown"};(function(u){var t=function(y,v,w){var z;return function x(){var C=this,B=arguments;function A(){if(!w){y.apply(C,B)}z=null}if(z){clearTimeout(z)}else{if(w){y.apply(C,B)}}z=setTimeout(A,v||100)}};e.fn[u]=function(v){return v?this.bind("resize.scrtabs",t(v)):this.trigger(u)}})("smartresize");function d(u){var t=this;t.stc=u}(function(t){t.initElements=function(v){var u=this;u.setElementReferences();if(v.isWrappingAngularUITabset){u.moveTabContentOutsideScrollContainer(v)}u.setEventListeners()};t.moveTabContentOutsideScrollContainer=function(B){var y=this,w=y.stc,u=w.$tabsContainer,C="scrtabs-tab-content-clone",x="scrtabs-tab-content-hidden",A=u.find(".tab-content").not("."+C),v,z;if(!B.isWatchingTabs){A.appendTo(u);return}if(!A.hasClass(x)){A.addClass(x)}z=A.clone().removeClass(x).addClass(C);v=u.find("."+C);if(v.length){v.replaceWith(z)}else{u.append(z)}};t.refreshAllElementSizes=function(){var u=this,x=u.stc,w=x.scrollMovement,y=x.scrollArrowsVisible,z={didScrollToActiveTab:false},v;u.setElementWidths();u.setScrollArrowVisibility();if(x.scrollArrowsVisible){u.setFixedContainerWidthForJustVisibleScrollArrows()}if(x.scrollArrowsVisible||y){if(x.scrollArrowsVisible){v=w.getMinPos();if(x.movableContainerLeftPos<v){w.incrementScrollRight(v)}else{w.scrollToActiveTab({isOnWindowResize:true});z.didScrollToActiveTab=true}}else{x.movableContainerLeftPos=0;w.slideMovableContainerToLeftPos()}}return z};t.setElementReferences=function(){var v=this,w=v.stc,u=w.$tabsContainer;w.isNavPills=false;w.$fixedContainer=u.find(".scrtabs-tabs-fixed-container");w.$movableContainer=u.find(".scrtabs-tabs-movable-container");w.$tabsUl=u.find(".nav-tabs");if(!w.$tabsUl.length){w.$tabsUl=u.find(".nav-pills");if(w.$tabsUl.length){w.isNavPills=true}}w.$tabsLiCollection=w.$tabsUl.find("> li");w.$leftScrollArrow=u.find(".scrtabs-js-tab-scroll-arrow-left");w.$rightScrollArrow=u.find(".scrtabs-js-tab-scroll-arrow-right");w.$scrollArrows=w.$leftScrollArrow.add(w.$rightScrollArrow);w.$win=e(g)};t.setElementWidths=function(){var u=this,v=u.stc;v.containerWidth=v.$tabsContainer.outerWidth();v.winWidth=v.$win.width();v.scrollArrowsCombinedWidth=v.$leftScrollArrow.outerWidth()+v.$rightScrollArrow.outerWidth();u.setFixedContainerWidth();u.setMovableContainerWidth()};t.setEventListeners=function(){var u=this,w=u.stc,v=w.eventHandlers;w.$leftScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(x){v.handleMousedownOnLeftScrollArrow.call(v,x)},"mouseup.scrtabs":function(x){v.handleMouseupOnLeftScrollArrow.call(v,x)},"click.scrtabs":function(x){v.handleClickOnLeftScrollArrow.call(v,x)}});w.$rightScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(x){v.handleMousedownOnRightScrollArrow.call(v,x)},"mouseup.scrtabs":function(x){v.handleMouseupOnRightScrollArrow.call(v,x)},"click.scrtabs":function(x){v.handleClickOnRightScrollArrow.call(v,x)}});w.$win.smartresize(function(x){v.handleWindowResize.call(v,x)})};t.setFixedContainerWidth=function(){var u=this,v=u.stc;v.$fixedContainer.width(v.fixedContainerWidth=v.$tabsContainer.outerWidth())};t.setFixedContainerWidthForJustHiddenScrollArrows=function(){var u=this,v=u.stc;v.$fixedContainer.width(v.fixedContainerWidth)};t.setFixedContainerWidthForJustVisibleScrollArrows=function(){var u=this,v=u.stc;v.$fixedContainer.width(v.fixedContainerWidth-v.scrollArrowsCombinedWidth)};t.setMovableContainerWidth=function(){var u=this,w=u.stc,v=w.$tabsUl.find("li");w.movableContainerWidth=0;if(v.length){v.each(function x(){var z=e(this),y=0;if(w.isNavPills){y=parseInt(z.css("margin-left"),10)+parseInt(z.css("margin-right"),10)}w.movableContainerWidth+=(z.outerWidth()+y)});w.movableContainerWidth+=1;if(w.movableContainerWidth<w.fixedContainerWidth){w.movableContainerWidth=w.fixedContainerWidth}}w.$movableContainer.width(w.movableContainerWidth)};t.setScrollArrowVisibility=function(){var u=this,v=u.stc,w=v.movableContainerWidth>v.fixedContainerWidth;if(w&&!v.scrollArrowsVisible){v.$scrollArrows.show();v.scrollArrowsVisible=true;u.setFixedContainerWidthForJustVisibleScrollArrows()}else{if(!w&&v.scrollArrowsVisible){v.$scrollArrows.hide();v.scrollArrowsVisible=false;u.setFixedContainerWidthForJustHiddenScrollArrows()}}}}(d.prototype));function s(u){var t=this;t.stc=u}(function(t){t.handleClickOnLeftScrollArrow=function(w){var v=this,u=v.stc;u.scrollMovement.incrementScrollLeft()};t.handleClickOnRightScrollArrow=function(x){var v=this,u=v.stc,w=u.scrollMovement;w.incrementScrollRight(w.getMinPos())};t.handleMousedownOnLeftScrollArrow=function(w){var v=this,u=v.stc;u.scrollMovement.startScrollLeft()};t.handleMousedownOnRightScrollArrow=function(w){var v=this,u=v.stc;u.scrollMovement.startScrollRight()};t.handleMouseupOnLeftScrollArrow=function(w){var v=this,u=v.stc;u.scrollMovement.stopScrollLeft()};t.handleMouseupOnRightScrollArrow=function(w){var v=this,u=v.stc;u.scrollMovement.stopScrollRight()
};t.handleWindowResize=function(x){var v=this,u=v.stc,w=u.$win.width();if(w===u.winWidth){return false}u.winWidth=w;u.elementsHandler.refreshAllElementSizes()}}(s.prototype));function f(u){var t=this;t.stc=u}(function(t){t.continueScrollLeft=function(){var v=this,u=v.stc;setTimeout(function(){if(u.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN)&&(u.movableContainerLeftPos<0)){if(!v.incrementScrollLeft()){v.continueScrollLeft()}}},a.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};t.continueScrollRight=function(u){var w=this,v=w.stc;setTimeout(function(){if(v.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN)&&(v.movableContainerLeftPos>u)){if(!w.incrementScrollRight(u)){w.continueScrollRight(u)}}},a.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};t.decrementMovableContainerLeftPos=function(u){var w=this,v=w.stc;v.movableContainerLeftPos-=(v.fixedContainerWidth/a.SCROLL_OFFSET_FRACTION);if(v.movableContainerLeftPos<u){v.movableContainerLeftPos=u}else{if(v.scrollToTabEdge){w.setMovableContainerLeftPosToTabEdge("right");if(v.movableContainerLeftPos<u){v.movableContainerLeftPos=u}}}};t.getMinPos=function(){var v=this,u=v.stc;return u.scrollArrowsVisible?(u.fixedContainerWidth-u.movableContainerWidth-u.scrollArrowsCombinedWidth):0};t.getMovableContainerCssLeftVal=function(){var v=this,u=v.stc;return(u.movableContainerLeftPos===0)?"0":u.movableContainerLeftPos+"px"};t.incrementScrollLeft=function(){var v=this,u=v.stc;u.movableContainerLeftPos+=(u.fixedContainerWidth/a.SCROLL_OFFSET_FRACTION);if(u.movableContainerLeftPos>0){u.movableContainerLeftPos=0}else{if(u.scrollToTabEdge){v.setMovableContainerLeftPosToTabEdge("left");if(u.movableContainerLeftPos>0){u.movableContainerLeftPos=0}}}v.slideMovableContainerToLeftPos();return(u.movableContainerLeftPos===0)};t.incrementScrollRight=function(u){var w=this,v=w.stc;w.decrementMovableContainerLeftPos(u);w.slideMovableContainerToLeftPos();return(v.movableContainerLeftPos===u)};t.scrollToActiveTab=function(y){var x=this,w=x.stc,B,z,A,u,v;if(!w.scrollArrowsVisible){return}B=w.$tabsUl.find("li.active");if(!B.length){return}z=B.outerWidth();A=B.offset().left;u=w.$rightScrollArrow.offset().left;v=A+z-u;if(v>0){w.movableContainerLeftPos=(y.isOnWindowResize||y.isOnTabsRefresh)?(w.movableContainerLeftPos-v):-v;x.slideMovableContainerToLeftPos()}};t.setMovableContainerLeftPosToTabEdge=function(y){var v=this,u=v.stc,x=-u.movableContainerLeftPos,w=0;u.$tabsLiCollection.each(function(A){var z=e(this).width();w+=z;if(w>x){u.movableContainerLeftPos=(y==="left")?-(w-z):-w;return false}})};t.slideMovableContainerToLeftPos=function(){var v=this,u=v.stc,w;u.movableContainerLeftPos=u.movableContainerLeftPos/1;w=v.getMovableContainerCssLeftVal();u.$movableContainer.stop().animate({left:w},"slow",function x(){var y=v.getMinPos();if(u.movableContainerLeftPos<y){v.decrementMovableContainerLeftPos(y);u.$movableContainer.stop().animate({left:v.getMovableContainerCssLeftVal()},"fast")}})};t.startScrollLeft=function(){var v=this,u=v.stc;u.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,true);v.continueScrollLeft()};t.startScrollRight=function(){var v=this,u=v.stc;u.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,true);v.continueScrollRight(v.getMinPos())};t.stopScrollLeft=function(){var v=this,u=v.stc;u.$leftScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,false)};t.stopScrollRight=function(){var v=this,u=v.stc;u.$rightScrollArrow.data(a.DATA_KEY_IS_MOUSEDOWN,false)}}(f.prototype));function r(t){var u=this;u.$tabsContainer=t;u.movableContainerLeftPos=0;u.scrollArrowsVisible=true;u.scrollToTabEdge=false;u.scrollMovement=new f(u);u.eventHandlers=new s(u);u.elementsHandler=new d(u)}(function(t){t.initTabs=function(v){var u=this,y=u.elementsHandler,x=u.scrollMovement;if(v.scrollToTabEdge){u.scrollToTabEdge=true}setTimeout(function w(){var z;y.initElements(v);z=y.refreshAllElementSizes();if(!z.didScrollToActiveTab){x.scrollToActiveTab({isOnTabsRefresh:v.isWatchingTabs})}},100)}}(r.prototype));var k=(function(){return{getElTabPaneForLi:u,getNewElNavTabs:x,getNewElScrollerElementWrappingNavTabsInstance:t,getNewElTabAnchor:z,getNewElTabContent:v,getNewElTabLi:w,getNewElTabPane:y};function u(A){return e(A.find("a").attr("href"))}function x(){return e('<ul class="nav nav-tabs" role="tablist"></ul>')}function t(C){var A=e('<div class="scrtabs-tab-container"></div>'),D=e('<div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>'),F=e('<div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>'),B=e('<div class="scrtabs-tabs-fixed-container"></div>'),E=e('<div class="scrtabs-tabs-movable-container"></div>');return A.append(D,B.append(E.append(C)),F)}function z(A,B){return e('<a role="tab" data-toggle="tab"></a>').attr("href","#"+A[B.paneId]).html(A[B.title])}function v(){return e('<div class="tab-content"></div>')}function w(A,E,B){var D=e('<li role="presentation" class=""></li>'),C=z(A,E).appendTo(D);
if(A[E.disabled]){D.addClass("disabled");C.attr("data-toggle","")}else{if(B&&A[E.active]){D.addClass("active")}}return D}function y(A,D,C){var B=e('<div role="tabpanel" class="tab-pane"></div>').attr("id",A[D.paneId]).html(A[D.content]);if(C&&A[D.active]){B.addClass("active")}return B}}());var p=(function(){return{didTabOrderChange:w,getIndexOfClosestEnabledTab:t,getTabIndexByPaneId:v,storeDataOnLiEl:u};function w(x,z,A){var y=false;x.each(function(C){var B=v(z,A.paneId,e(this).data("tab")[A.paneId]);if((B>-1)&&(B!==C)){y=true;return false}});return y}function t(x,B){var C=x.length-1,y=-1,A=0,z=0;while((y===-1)&&(z>=0)){if((((z=B+(++A))<=C)&&!x.eq(z).hasClass("disabled"))||(((z=B-A)>=0)&&!x.eq(z).hasClass("disabled"))){y=z}}return y}function v(A,z,y){var x=-1;A.some(function(C,B){if(C[z]===y){x=B;return true}});return x}function u(z,y,x){z.data({tab:e.extend({},y[x]),index:x})}}());function i(w,u){var x=u.tabs,B={paneId:u.propPaneId,title:u.propTitle,active:u.propActive,disabled:u.propDisabled,content:u.propContent},v=u.ignoreTabPanes,y=x.length&&x[0][B.content]!==undefined,A=k.getNewElNavTabs().appendTo(w),z=k.getNewElTabContent(),t;if(!x.length){return}x.forEach(function(D,C){k.getNewElTabLi(D,B,true).appendTo(A);if(!v&&y){k.getNewElTabPane(D,B,true).appendTo(z)}});t=j(A,u).after(z);w.data({scrtabs:{tabs:x,propNames:B,ignoreTabPanes:v,hasTabContent:y,scroller:t}});t.find(".nav-tabs > li").each(function(C){p.storeDataOnLiEl(e(this),x,C)})}function c(v){var w=v.updatedTabsArray,B=v.propNames,x=v.ignoreTabPanes,C=v.options,t=v.$currTabLis,A=v.$navTabs,y=x?null:v.$currTabContentPanesContainer,z=x?null:v.$currTabContentPanes,u=false;w.forEach(function(E,D){var H=t.find('a[href="#'+E[B.paneId]+'"]'),G=(D>=t.length),F;if(!H.length){u=true;H=k.getNewElTabLi(E,B,C.forceActiveTab);p.storeDataOnLiEl(H,w,D);if(G){H.appendTo(A)}else{H.insertBefore(t.eq(D))}if(!x&&E[B.content]!==undefined){F=k.getNewElTabPane(E,B,C.forceActiveTab);if(G){F.appendTo(y)}else{F.insertBefore(z.eq(D))}}}});return u}function n(w){var A=w.tabLi,y=w.ignoreTabPanes,z=A.$li,x=A.$contentPane,v=A.origTabData,t=A.newTabData,B=w.propNames,u=false;if(v[B.title]!==t[B.title]){z.find('a[role="tab"]').html(v[B.title]=t[B.title]);u=true}if(w.options.forceActiveTab){z[t[B.active]?"addClass":"removeClass"]("active");x[t[B.active]?"addClass":"removeClass"]("active");v[B.active]=t[B.active];u=true}if(!y&&v[B.content]!==t[B.content]){x.html(v[B.content]=t[B.content]);u=true}return u}function h(v){var u=v.tabLi,w=v.ignoreTabPanes,x=u.$li,t;if(u.newIdx!==-1){return false}if(x.hasClass("active")){t=p.getIndexOfClosestEnabledTab(v.$currTabLis,u.currDomIdx);if(t>-1){v.$currTabLis.eq(t).addClass("active");if(!w){v.$currTabContentPanes.eq(t).addClass("active")}}}x.remove();if(!w){u.$contentPane.remove()}return true}function l(v){var u=v.$currTabLis,t=v.updatedTabsArray,z=v.propNames,y=v.ignoreTabPanes,x=[],w=y?null:[];if(!p.didTabOrderChange(u,t,z)){return false}t.forEach(function(C,B){var A=C[z.paneId];x.push(u.find('a[role="tab"][href="#'+A+'"]').parent("li"));if(!y){w.push(e("#"+A))}});v.$navTabs.append(x);if(!y){v.$currTabContentPanesContainer.append(w)}return true}function m(w){var u=w.$currTabLis,t=w.updatedTabsArray,x=w.propNames,v=false;u.each(function(C){var B=e(this),A=B.data("tab"),y=p.getTabIndexByPaneId(t,x.paneId,A[x.paneId]),z=(y>-1)?t[y]:null;w.tabLi={$li:B,currDomIdx:C,newIdx:y,$contentPane:k.getElTabPaneForLi(B),origTabData:A,newTabData:z};if(h(w)){v=true;return}if(n(w)){v=true}});return v}function b(){var v=e(this),u=v.data("scrtabs"),t;if(!u){return}if(u.isWrapperOnly){t=v.parents(".scrtabs-tab-container");if(t.length){t.replaceWith(v)}}else{if(u.scroller&&u.scroller.initTabs){u.scroller.initTabs=null}v.find(".scrtabs-tab-container").add(".tab-content").remove()}v.removeData("scrtabs")}function o(z,u){var v=z.data().scrtabs,t=v.scroller,A=z.find(".scrtabs-tab-container .nav-tabs"),y=z.find(".tab-content"),x=false,w={options:u,updatedTabsArray:v.tabs,propNames:v.propNames,ignoreTabPanes:v.ignoreTabPanes,$navTabs:A,$currTabLis:A.find("> li"),$currTabContentPanesContainer:y,$currTabContentPanes:y.find(".tab-pane")};if(c(w)){x=true}if(l(w)){x=true}if(m(w)){x=true}if(x){t.initTabs()}}function j(u,v){var w=k.getNewElScrollerElementWrappingNavTabsInstance(u.clone(true)),t=new r(w);u.replaceWith(w);w.initTabs=function(){t.initTabs(v)};w.initTabs();return w}var q={destroy:function(){var t=this;t.each(b)},init:function(t){var v=this,u=e.extend({},e.fn.scrollingTabs.defaults,t||{});if(!u.tabs){return v.each(function(){j(e(this).data({scrtabs:{isWrapperOnly:true}}),u)})}return v.each(function(){i(e(this),u)})},refresh:function(t){var v=this,u=e.extend({},e.fn.scrollingTabs.defaults,t||{});v.each(function(){o(e(this),u)})}};e.fn.scrollingTabs=function(t){if(q[t]){return q[t].apply(this,Array.prototype.slice.call(arguments,1))}else{if(!t||(typeof t==="object")){return q.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on $.scrollingTabs.")}}};
e.fn.scrollingTabs.defaults={tabs:null,propPaneId:"paneId",propTitle:"title",propActive:"active",propDisabled:"disabled",propContent:"content",ignoreTabPanes:false,scrollToTabEdge:false,forceActiveTab:false}}(jQuery,window));
